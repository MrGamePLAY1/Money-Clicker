const log={log:message=>{}};let money=0;let clickPower=.01;let last_known_click_time=0;let totalClicks=0;let buyCount=0;let fastClickerCount=0;let printerCount=0;let grannyCount=0;let farmCount=0;let cps=0;let cps_display=0;let clickerupgradeCost=.1;let fastClickerUpgradeCost=1;let printerUpgradeCost=35;let grannyUpgradeCost=200;let farmUpgradeCost=500;const moneyDisplay=document.getElementById("money-display");const clickBtn=document.getElementById("click-btn");const cpsUpgradeCostSpan=document.getElementById("cps-upgrade-cost");const upgradeQuantitySpan=document.getElementById("cps-upgrade-quantity");const fastQuantitySpan=document.getElementById("fast-upgrade-quantity");const printerQuantitySpan=document.getElementById("printer-upgrade-quantity");const grannyQuantitySpan=document.getElementById("granny-upgrade-quantity");const farmQuantitySpan=document.getElementById("farm-upgrade-quantity");const revealUpgradeBtn=document.getElementById("reveal-upgrade-btn");const cpsUpgradeBtn=document.getElementById("cps-upgrade");const fastClickerUpgradeBtn=document.getElementById("fast-clicker-upgrade");const fastClickerUpgradeCostSpan=document.getElementById("fast-clicker-upgrade-cost");const printerUpgradeCostSpan=document.getElementById("printer-upgrade-cost");const cpsDisplay=document.getElementById("cps-display");const dpsDisplay=document.getElementById("dps-display");const grannyUpgradeBtn=document.getElementById("granny-upgrade");const grannyUpgradeCostSpan=document.getElementById("granny-upgrade-cost");const farmUpgradeBtn=document.getElementById("farm-upgrade");const farmUpgradeCostSpan=document.getElementById("farm-upgrade-cost");const loadSaveBtn=document.getElementById("load-save-btn");const alertBox=document.getElementById("alert");const autosaveAlertBox=document.getElementById("autosave-alert");const clickSound=new Audio("sounds/$$.mp3");const printerUpgradeBtn=document.getElementById("printer-upgrade");const coinDiv=document.getElementById("coin-container");loadSaveBtn.addEventListener("click",loadGame);const achievements={first_click:{name:"First Click",description:"Make your first click.",unlocked:false,condition:()=>money>=.01},first_dollar:{name:"First Dollar",description:"Earn your first dollar.",unlocked:false,condition:()=>money>=1}};function initializeAchievements(){const grid=document.getElementById("achievements-grid");grid.innerHTML="";for(const key in achievements){const achievement=achievements[key];const el=document.createElement("div");el.id="achievement-"+key;el.classList.add("achievement");if(achievement.unlocked){el.classList.add("unlocked")}el.innerHTML=`\n      <div class="achievement-title">${achievement.name}</div>\n      <div class="achievement-description">${achievement.description}</div>\n    `;grid.appendChild(el)}}function unlockAchievement(key){if(achievements[key]&&!achievements[key].unlocked){achievements[key].unlocked=true;const achievementEl=document.getElementById("achievement-"+key);if(achievementEl){achievementEl.classList.add("unlocked")}alertBox.textContent=`Achievement Unlocked: ${achievements[key].name}`;alertBox.classList.remove("hidden");setTimeout(()=>{alertBox.classList.add("hidden")},3e3)}}function checkAchievements(){if(totalClicks>=1){unlockAchievement("first_click")}if(money>=1){unlockAchievement("first_dollar")}}const upgrades=[{element:cpsUpgradeBtn,revealCondition:()=>money>=.1,revealed:false},{element:fastClickerUpgradeBtn,revealCondition:()=>money>=1,revealed:false},{element:printerUpgradeBtn,revealCondition:()=>money>=35,revealed:false},{element:grannyUpgradeBtn,revealCondition:()=>money>=200,revealed:false},{element:farmUpgradeBtn,revealCondition:()=>money>=500,revealed:false}];function checkAndRevealUpgrades(){let nextUpgradeFound=false;for(const upgrade of upgrades){if(upgrade.revealed)continue;if(upgrade.revealCondition()){upgrade.element.classList.remove("hidden","locked");upgrade.revealed=true}}for(const upgrade of upgrades){if(!upgrade.revealed){if(!nextUpgradeFound){upgrade.element.classList.remove("hidden");upgrade.element.classList.add("locked");nextUpgradeFound=true}else{upgrade.element.classList.add("hidden");upgrade.element.classList.remove("locked")}}}}function rain(){for(let i=0;i<30;i++){setTimeout(()=>{const coin=document.createElement("div");coin.className="coin";coin.style.left=Math.random()*100+"vw";coin.style.animationDuration=Math.random()*1+1+"s";document.getElementById("coin-container").appendChild(coin);setTimeout(()=>coin.remove(),2e3)},i*50)}}function loadGame(){const savedData=sessionStorage.getItem("moneyClickerSave")||localStorage.getItem("moneyClickerSave");if(savedData){const gameSaveData=JSON.parse(savedData);money=gameSaveData.money;clickPower=gameSaveData.clickPower;cps=gameSaveData.cps;cps_display=gameSaveData.cps_display;clickerupgradeCost=gameSaveData.clickerupgradeCost;fastClickerUpgradeCost=gameSaveData.fastClickerUpgradeCost;buyCount=gameSaveData.buyCount||0;fastClickerCount=gameSaveData.fastClickerCount||0;printerCount=gameSaveData.printerCount||0;grannyCount=gameSaveData.grannyCount||0;farmCount=gameSaveData.farmCount||0;updateUI();log.log("Game Loaded: $"+money.toFixed(2));displayLoadSaveMessage()}else{log.log("No save data found.")}}function displayLoadSaveMessage(){alertBox.classList.remove("hidden");setTimeout(()=>{alertBox.classList.add("hidden")},3e3)}function displayMessage(){alert("Game Successfully Saved!")}function playClickSound(){clickSound.currentTime=0;clickSound.play()}function autoSave(){const autoSave={money:money,clickPower:clickPower,cps:cps,cps_display:cps_display,clickerupgradeCost:clickerupgradeCost,fastClickerUpgradeCost:fastClickerUpgradeCost,printerUpgradeCost:printerUpgradeCost,grannyUpgradeCost:grannyUpgradeCost,farmUpgradeCost:farmUpgradeCost,buyCount:buyCount,fastClickerCount:fastClickerCount,printerCount:printerCount,grannyCount:grannyCount,farmCount:farmCount};localStorage.setItem("moneyClickerSave",JSON.stringify(autoSave));sessionStorage.setItem("moneyClickerSave",JSON.stringify(autoSave));autosaveAlertBox.classList.remove("hidden");setTimeout(()=>{autosaveAlertBox.classList.add("hidden")},3e3)}function loadGame(){const savedData=sessionStorage.getItem("moneyClickerSave")||localStorage.getItem("moneyClickerSave");if(savedData){const gameSaveData=JSON.parse(savedData);money=gameSaveData.money;clickPower=gameSaveData.clickPower;cps=gameSaveData.cps;cps_display=gameSaveData.cps_display;clickerupgradeCost=gameSaveData.clickerupgradeCost;fastClickerUpgradeCost=gameSaveData.fastClickerUpgradeCost;printerUpgradeCost=gameSaveData.printerUpgradeCost||35;grannyUpgradeCost=gameSaveData.grannyUpgradeCost||200;farmUpgradeCost=gameSaveData.farmUpgradeCost||500;buyCount=gameSaveData.buyCount||0;fastClickerCount=gameSaveData.fastClickerCount||0;printerCount=gameSaveData.printerCount||0;grannyCount=gameSaveData.grannyCount||0;farmCount=gameSaveData.farmCount||0;upgradeQuantitySpan.textContent="x"+buyCount;fastQuantitySpan.textContent="x"+fastClickerCount;printerQuantitySpan.textContent="x"+printerCount;grannyQuantitySpan.textContent="x"+grannyCount;farmQuantitySpan.textContent="x"+farmCount;updateUI();log.log("Game Loaded: $"+money.toFixed(2));displayLoadSaveMessage()}else{log.log("No save data found.")}}function saveGame(){const gameSaveData={money:money,clickPower:clickPower,cps:cps,cps_display:cps_display,clickerupgradeCost:clickerupgradeCost,fastClickerUpgradeCost:fastClickerUpgradeCost,printerUpgradeCost:printerUpgradeCost,grannyUpgradeCost:grannyUpgradeCost,farmUpgradeCost:farmUpgradeCost,buyCount:buyCount,fastClickerCount:fastClickerCount,printerCount:printerCount,grannyCount:grannyCount,farmCount:farmCount};localStorage.setItem("moneyClickerSave",JSON.stringify(gameSaveData));sessionStorage.setItem("moneyClickerSave",JSON.stringify(gameSaveData));log.log("Game Saved: $"+money.toFixed(2))}clickBtn.addEventListener("click",e=>{money+=clickPower;totalClicks+=1;moneyDisplay.innerText=money.toLocaleString();const moneyBag=document.querySelector("#dollar");moneyBag.classList.remove("pop");void moneyBag.offsetWidth;moneyBag.classList.add("pop");playClickSound();rain();checkAchievements();createFloatingText(e.clientX,e.clientY,`+$${clickPower.toFixed(2)}`)});function createFloatingText(x,y,text){const el=document.createElement("div");el.className="floating-text";el.innerText=text;el.style.left=`${x}px`;el.style.top=`${y}px`;document.body.appendChild(el);setTimeout(()=>{el.remove()},1e3)}cpsUpgradeBtn.addEventListener("click",()=>{if(money>=clickerupgradeCost){money-=clickerupgradeCost;cps+=1;buyCount+=1;clickPower+=.01;moneyDisplay.innerText=money.toLocaleString();clickerupgradeCost*=5;cpsDisplay.textContent=cps_display+=1;dpsDisplay.textContent=`$${(cps_display*clickPower).toFixed(2)}`;upgradeQuantitySpan.textContent="x"+buyCount;updateUI()}});fastClickerUpgradeBtn.addEventListener("click",()=>{if(money>=fastClickerUpgradeCost){money-=fastClickerUpgradeCost;cps+=3;fastClickerCount+=1;clickPower+=.03;moneyDisplay.innerText=money.toLocaleString();fastClickerUpgradeCost*=3;cpsDisplay.textContent=cps_display+=3;dpsDisplay.textContent=`$${(cps_display*clickPower).toFixed(2)}`;fastQuantitySpan.textContent="x"+fastClickerCount;updateUI()}});printerUpgradeBtn.addEventListener("click",()=>{if(money>=printerUpgradeCost){money-=printerUpgradeCost;cps+=10;printerCount+=1;moneyDisplay.innerText=money.toLocaleString();printerUpgradeCost*=2;cpsDisplay.textContent=cps_display+=10;dpsDisplay.textContent=`$${(cps_display*clickPower).toFixed(2)}`;printerQuantitySpan.textContent="x"+printerCount;updateUI()}});grannyUpgradeBtn.addEventListener("click",()=>{if(money>=grannyUpgradeCost){money-=grannyUpgradeCost;cps+=50;grannyCount+=1;moneyDisplay.innerText=money.toLocaleString();grannyUpgradeCost*=2;cpsDisplay.textContent=cps_display+=50;dpsDisplay.textContent=`$${(cps_display*clickPower).toFixed(2)}`;grannyQuantitySpan.textContent="x"+grannyCount;updateUI()}});farmUpgradeBtn.addEventListener("click",()=>{if(money>=farmUpgradeCost){money-=farmUpgradeCost;cps+=100;farmCount+=1;moneyDisplay.innerText=money.toLocaleString();farmUpgradeCost*=2;cpsDisplay.textContent=cps_display+=100;dpsDisplay.textContent=`$${(cps_display*clickPower).toFixed(2)}`;farmQuantitySpan.textContent="x"+farmCount;updateUI()}});function gameRun(){money+=Date.now()}function dynamicLoop(){updateUI();let currentCps=typeof cps_display!=="undefined"&&cps_display>0?cps_display:1;let delay=1e3/currentCps;if(delay<16)delay=16;setTimeout(dynamicLoop,delay)}dynamicLoop();setInterval(function(){autoSave()},12e4);function updateUI(){checkAndRevealUpgrades();checkAchievements();const now=Date.now();const deltaTime=(now-last_known_click_time)/1e3;last_known_click_time=now;const moneyEarned=cps*clickPower*deltaTime;money+=moneyEarned;cpsDisplay.textContent=cps_display;moneyDisplay.textContent=money.toFixed(2);cpsUpgradeCostSpan.textContent=clickerupgradeCost.toFixed(2);fastClickerUpgradeCostSpan.textContent=fastClickerUpgradeCost.toFixed(2);printerUpgradeCostSpan.textContent=printerUpgradeCost.toFixed(2);grannyUpgradeCostSpan.textContent=grannyUpgradeCost.toFixed(2);farmUpgradeCostSpan.textContent=farmUpgradeCost.toFixed(2);const manageUpgradeBtn=(btn,cost,baseCost)=>{if(money<cost){btn.classList.add("disabled");btn.disabled=true}else{btn.classList.remove("disabled");btn.disabled=false}};manageUpgradeBtn(cpsUpgradeBtn,clickerupgradeCost,.1);manageUpgradeBtn(fastClickerUpgradeBtn,fastClickerUpgradeCost,1);manageUpgradeBtn(printerUpgradeBtn,printerUpgradeCost,35);manageUpgradeBtn(grannyUpgradeBtn,grannyUpgradeCost,200);manageUpgradeBtn(farmUpgradeBtn,farmUpgradeCost,500)}initializeAchievements();updateUI();