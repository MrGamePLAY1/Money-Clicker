const log={log:e=>{}};let money=0,clickPower=.01,last_known_click_time=0,totalClicks=0,buyCount=0,fastClickerCount=0,printerCount=0,grannyCount=0,farmCount=0,cps=0,cps_display=0,dps_display=0,clickerupgradeCost=.1,fastClickerUpgradeCost=1,printerUpgradeCost=35,grannyUpgradeCost=200,farmUpgradeCost=500;const moneyDisplay=document.getElementById("money-display"),clickBtn=document.getElementById("click-btn"),cpsUpgradeCostSpan=document.getElementById("cps-upgrade-cost"),upgradeQuantitySpan=document.getElementById("cps-upgrade-quantity"),fastQuantitySpan=document.getElementById("fast-upgrade-quantity"),printerQuantitySpan=document.getElementById("printer-upgrade-quantity"),grannyQuantitySpan=document.getElementById("granny-upgrade-quantity"),farmQuantitySpan=document.getElementById("farm-upgrade-quantity"),randomBonus=document.getElementById("random-bonus"),revealUpgradeBtn=document.getElementById("reveal-upgrade-btn"),cpsUpgradeBtn=document.getElementById("cps-upgrade"),fastClickerUpgradeBtn=document.getElementById("fast-clicker-upgrade"),fastClickerUpgradeCostSpan=document.getElementById("fast-clicker-upgrade-cost"),printerUpgradeCostSpan=document.getElementById("printer-upgrade-cost"),cpsDisplay=document.getElementById("cps-display"),dpsDisplay=document.getElementById("dps-display"),grannyUpgradeBtn=document.getElementById("granny-upgrade"),grannyUpgradeCostSpan=document.getElementById("granny-upgrade-cost"),farmUpgradeBtn=document.getElementById("farm-upgrade"),farmUpgradeCostSpan=document.getElementById("farm-upgrade-cost"),loadSaveBtn=document.getElementById("load-save-btn"),alertBox=document.getElementById("alert"),autosaveAlertBox=document.getElementById("autosave-alert"),clickSound=new Audio("sounds/$$.mp3"),printerUpgradeBtn=document.getElementById("printer-upgrade"),coinDiv=document.getElementById("coin-container");loadSaveBtn.addEventListener("click",loadGame);const achievements={first_click:{name:"First Click",description:"Make your first click.",unlocked:!1,condition:()=>money>=.01},first_dollar:{name:"First Dollar",description:"Earn your first dollar.",unlocked:!1,condition:()=>money>=1},millionaire:{name:"Millionaire Row",description:"Reach $1,000,000.",unlocked:!1,condition:()=>money>=1e6},CEO:{name:"S&P 500 CEO",description:"Reached average CEO wealth.",unlocked:!1,condition:()=>dps_display>=.6},footballer_cr7:{name:"Cristiano Ronaldo",description:"Reached CR7 wealth.",unlocked:!1,condition:()=>dps_display>=7.75},taylor_swift:{name:"Taylor Swift",description:"Reached Taylor Swift wealth.",unlocked:!1,condition:()=>dps_display>=15.9},Jensen_huang:{name:"Jensen Huang",description:"Reached Jensen Huang wealth.",unlocked:!1,condition:()=>dps_display>=485.2},Daddy_Bezoz:{name:"Daddy Bezos",description:"Reached Jeff Bezos wealth.",unlocked:!1,condition:()=>dps_display>=920},Musk:{name:"Elon Musk",description:"Reached Elon Musk wealth.",unlocked:!1,condition:()=>dps_display>=2750}};function initializeAchievements(){const e=document.getElementById("achievements-grid");e.innerHTML="";for(const t in achievements){const n=achievements[t],o=document.createElement("div");o.id="achievement-"+t,o.classList.add("achievement"),n.unlocked&&o.classList.add("unlocked"),o.innerHTML=`\n      <div class="achievement-title">${n.name}</div>\n      <div class="achievement-description">${n.description}</div>\n    `,e.appendChild(o)}}function unlockAchievement(e){if(achievements[e]&&!achievements[e].unlocked){achievements[e].unlocked=!0;const t=document.getElementById("achievement-"+e);t&&t.classList.add("unlocked"),alertBox.textContent=`Achievement Unlocked: ${achievements[e].name}`,alertBox.classList.remove("hidden"),setTimeout(()=>{alertBox.classList.add("hidden")},3e3)}}function checkAchievements(){totalClicks>=1&&unlockAchievement("first_click"),money>=1&&unlockAchievement("first_dollar"),money>=1e6&&unlockAchievement("millionaire"),dps_display>=.6&&unlockAchievement("CEO"),dps_display>=7.75&&unlockAchievement("footballer_cr7"),dps_display>=15.9&&unlockAchievement("taylor_swift"),dps_display>=485.2&&unlockAchievement("Jensen_huang"),dps_display>=920&&unlockAchievement("Daddy_Bezoz"),dps_display>=2750&&unlockAchievement("Musk")}const upgrades=[{element:cpsUpgradeBtn,revealCondition:()=>money>=.1,revealed:!1},{element:fastClickerUpgradeBtn,revealCondition:()=>money>=1,revealed:!1},{element:printerUpgradeBtn,revealCondition:()=>money>=35,revealed:!1},{element:grannyUpgradeBtn,revealCondition:()=>money>=200,revealed:!1},{element:farmUpgradeBtn,revealCondition:()=>money>=500,revealed:!1}];function checkAndRevealUpgrades(){let e=!1;for(const e of upgrades)e.revealed||e.revealCondition()&&(e.element.classList.remove("hidden","locked"),e.revealed=!0);for(const t of upgrades)t.revealed||(e?(t.element.classList.add("hidden"),t.element.classList.remove("locked")):(t.element.classList.remove("hidden"),t.element.classList.add("locked"),e=!0))}function rain(){for(let e=0;e<30;e++)setTimeout(()=>{const e=document.createElement("div");e.className="coin",e.style.left=100*Math.random()+"vw",e.style.animationDuration=1*Math.random()+1+"s",document.getElementById("coin-container").appendChild(e),setTimeout(()=>e.remove(),2e3)},50*e)}const bonusEventConfig={minDelayMs:3e5,maxDelayMs:3e6,displayMs:9e3,iconSizePx:80,paddingPx:12};let bonusTimeoutId=null,bonusHideTimeoutId=null,activeBonusKey=null,bonusVisible=!1;function getRandomBonusKey(){const e=Object.keys(bonus_events);if(0===e.length)return null;return e[Math.floor(Math.random()*e.length)]}function getRandomDelay(e,t){return Math.floor(Math.random()*(t-e+1))+e}function positionBonus(){const e=Math.max(0,window.innerWidth-bonusEventConfig.iconSizePx-bonusEventConfig.paddingPx),t=Math.max(0,window.innerHeight-bonusEventConfig.iconSizePx-bonusEventConfig.paddingPx),n=Math.floor(Math.random()*e)+bonusEventConfig.paddingPx,o=Math.floor(Math.random()*t)+bonusEventConfig.paddingPx;randomBonus.style.left=`${n}px`,randomBonus.style.top=`${o}px`}function showBonusEvent(){bonusVisible||(activeBonusKey=getRandomBonusKey(),activeBonusKey&&(positionBonus(),randomBonus.classList.remove("hidden"),bonusVisible=!0,bonusHideTimeoutId&&clearTimeout(bonusHideTimeoutId),bonusHideTimeoutId=setTimeout(()=>{hideBonusEvent()},bonusEventConfig.displayMs)))}function hideBonusEvent(){bonusVisible&&(bonusVisible=!1,activeBonusKey=null,randomBonus.classList.add("hidden"),scheduleNextBonusEvent())}function scheduleNextBonusEvent(){bonusTimeoutId&&clearTimeout(bonusTimeoutId);const e=getRandomDelay(bonusEventConfig.minDelayMs,bonusEventConfig.maxDelayMs);bonusTimeoutId=setTimeout(showBonusEvent,e)}const bonus_events={cps_upgrade:{name:"Double Click Power!",description:"Increase your clicks per second.",unlocked:!1,effect:()=>{clickPower*=2,updateUI(),setTimeout(()=>{clickPower/=2,updateUI()},3e4)}},money_bonus:{name:"Money Bonus!",description:"Get a random amount of money between $10 and $100.",unlocked:!1,effect:()=>{const e=90*Math.random()+10;money+=e,updateUI()}}};function loadGame(){const e=sessionStorage.getItem("moneyClickerSave")||localStorage.getItem("moneyClickerSave");if(e){const t=JSON.parse(e);money=t.money,clickPower=t.clickPower,cps=t.cps,cps_display=t.cps_display,clickerupgradeCost=t.clickerupgradeCost,fastClickerUpgradeCost=t.fastClickerUpgradeCost,totalClicks=t.totalClicks||0,buyCount=t.buyCount||0,fastClickerCount=t.fastClickerCount||0,printerCount=t.printerCount||0,grannyCount=t.grannyCount||0,farmCount=t.farmCount||0,updateUI(),log.log("Game Loaded: $"+money.toFixed(2)),displayLoadSaveMessage()}else log.log("No save data found.")}function displayLoadSaveMessage(){alertBox.classList.remove("hidden"),setTimeout(()=>{alertBox.classList.add("hidden")},3e3)}function displayMessage(){alert("Game Successfully Saved!")}function playClickSound(){clickSound.currentTime=0,clickSound.play()}function autoSave(){const e={money:money,clickPower:clickPower,cps:cps,cps_display:cps_display,totalClicks:totalClicks,clickerupgradeCost:clickerupgradeCost,fastClickerUpgradeCost:fastClickerUpgradeCost,printerUpgradeCost:printerUpgradeCost,grannyUpgradeCost:grannyUpgradeCost,farmUpgradeCost:farmUpgradeCost,buyCount:buyCount,fastClickerCount:fastClickerCount,printerCount:printerCount,grannyCount:grannyCount,farmCount:farmCount};localStorage.setItem("moneyClickerSave",JSON.stringify(e)),sessionStorage.setItem("moneyClickerSave",JSON.stringify(e)),autosaveAlertBox.classList.remove("hidden"),setTimeout(()=>{autosaveAlertBox.classList.add("hidden")},3e3)}function loadGame(){const e=sessionStorage.getItem("moneyClickerSave")||localStorage.getItem("moneyClickerSave");if(e){const t=JSON.parse(e);money=t.money,clickPower=t.clickPower,cps=t.cps,cps_display=t.cps_display,clickerupgradeCost=t.clickerupgradeCost,fastClickerUpgradeCost=t.fastClickerUpgradeCost,printerUpgradeCost=t.printerUpgradeCost||35,grannyUpgradeCost=t.grannyUpgradeCost||200,farmUpgradeCost=t.farmUpgradeCost||500,buyCount=t.buyCount||0,fastClickerCount=t.fastClickerCount||0,printerCount=t.printerCount||0,grannyCount=t.grannyCount||0,farmCount=t.farmCount||0,upgradeQuantitySpan.textContent="x"+buyCount,fastQuantitySpan.textContent="x"+fastClickerCount,printerQuantitySpan.textContent="x"+printerCount,grannyQuantitySpan.textContent="x"+grannyCount,farmQuantitySpan.textContent="x"+farmCount,updateUI(),log.log("Game Loaded: $"+money.toFixed(2)),displayLoadSaveMessage()}else log.log("No save data found.")}function saveGame(){const e={money:money,clickPower:clickPower,cps:cps,cps_display:cps_display,clickerupgradeCost:clickerupgradeCost,fastClickerUpgradeCost:fastClickerUpgradeCost,printerUpgradeCost:printerUpgradeCost,grannyUpgradeCost:grannyUpgradeCost,farmUpgradeCost:farmUpgradeCost,buyCount:buyCount,fastClickerCount:fastClickerCount,printerCount:printerCount,grannyCount:grannyCount,farmCount:farmCount};localStorage.setItem("moneyClickerSave",JSON.stringify(e)),sessionStorage.setItem("moneyClickerSave",JSON.stringify(e)),log.log("Game Saved: $"+money.toFixed(2))}function createFloatingText(e,t,n){const o=document.createElement("div");o.className="floating-text",o.innerText=n,o.style.left=`${e}px`,o.style.top=`${t}px`,document.body.appendChild(o),setTimeout(()=>{o.remove()},1e3)}function gameRun(){money+=Date.now()}function dynamicLoop(){updateUI();let e=1e3/(void 0!==cps_display&&cps_display>0?cps_display:1);e<16&&(e=16),setTimeout(dynamicLoop,e)}function updateUI(){checkAndRevealUpgrades(),checkAchievements();const e=Date.now(),t=(e-last_known_click_time)/1e3;last_known_click_time=e;money+=cps*clickPower*t,cpsDisplay.textContent=cps_display,moneyDisplay.textContent=money.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),cpsUpgradeCostSpan.textContent=clickerupgradeCost.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:2}),fastClickerUpgradeCostSpan.textContent=fastClickerUpgradeCost.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:2}),printerUpgradeCostSpan.textContent=printerUpgradeCost.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:2}),grannyUpgradeCostSpan.textContent=grannyUpgradeCost.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:2}),farmUpgradeCostSpan.textContent=farmUpgradeCost.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:2}),dps_display=cps_display*clickPower,dpsDisplay.textContent=`$${dps_display.toFixed(2)}`;const n=(e,t,n)=>{money<t?(e.classList.add("disabled"),e.disabled=!0):(e.classList.remove("disabled"),e.disabled=!1)};n(cpsUpgradeBtn,clickerupgradeCost),n(fastClickerUpgradeBtn,fastClickerUpgradeCost),n(printerUpgradeBtn,printerUpgradeCost),n(grannyUpgradeBtn,grannyUpgradeCost),n(farmUpgradeBtn,farmUpgradeCost)}clickBtn.addEventListener("click",e=>{money+=clickPower,totalClicks+=1,moneyDisplay.innerText=money.toLocaleString();const t=document.querySelector("#dollar");t.classList.remove("pop"),t.offsetWidth,t.classList.add("pop"),playClickSound(),rain(),checkAchievements(),createFloatingText(e.clientX,e.clientY,`+$${clickPower.toFixed(2)}`)}),randomBonus.addEventListener("click",()=>{if(!bonusVisible||!activeBonusKey)return;const e=bonus_events[activeBonusKey];e&&"function"==typeof e.effect&&(e.effect(),alertBox.textContent=`${e.name} Activated!`,alertBox.classList.remove("hidden"),setTimeout(()=>{alertBox.classList.add("hidden")},2500)),hideBonusEvent()}),cpsUpgradeBtn.addEventListener("click",()=>{money>=clickerupgradeCost&&(money-=clickerupgradeCost,cps+=1,buyCount+=1,clickPower+=.01,moneyDisplay.innerText=money.toLocaleString(),clickerupgradeCost*=5,cpsDisplay.textContent=cps_display+=1,dpsDisplay.textContent=`$${(cps_display*clickPower).toFixed(2)}`,upgradeQuantitySpan.textContent="x"+buyCount,updateUI())}),fastClickerUpgradeBtn.addEventListener("click",()=>{money>=fastClickerUpgradeCost&&(money-=fastClickerUpgradeCost,cps+=3,fastClickerCount+=1,clickPower+=.03,moneyDisplay.innerText=money.toLocaleString(),fastClickerUpgradeCost*=3,cpsDisplay.textContent=cps_display+=3,dpsDisplay.textContent=`$${(cps_display*clickPower).toFixed(2)}`,fastQuantitySpan.textContent="x"+fastClickerCount,updateUI())}),printerUpgradeBtn.addEventListener("click",()=>{money>=printerUpgradeCost&&(money-=printerUpgradeCost,cps+=10,printerCount+=1,moneyDisplay.innerText=money.toLocaleString(),printerUpgradeCost*=2,cpsDisplay.textContent=cps_display+=10,dpsDisplay.textContent=`$${(cps_display*clickPower).toFixed(2)}`,printerQuantitySpan.textContent="x"+printerCount,updateUI())}),grannyUpgradeBtn.addEventListener("click",()=>{money>=grannyUpgradeCost&&(money-=grannyUpgradeCost,cps+=50,grannyCount+=1,moneyDisplay.innerText=money.toLocaleString(),grannyUpgradeCost*=2,cpsDisplay.textContent=cps_display+=50,dpsDisplay.textContent=`$${(cps_display*clickPower).toFixed(2)}`,grannyQuantitySpan.textContent="x"+grannyCount,updateUI())}),farmUpgradeBtn.addEventListener("click",()=>{money>=farmUpgradeCost&&(money-=farmUpgradeCost,cps+=100,farmCount+=1,moneyDisplay.innerText=money.toLocaleString(),farmUpgradeCost*=2,cpsDisplay.textContent=cps_display+=100,dpsDisplay.textContent=`$${(cps_display*clickPower).toFixed(2)}`,farmQuantitySpan.textContent="x"+farmCount,updateUI())}),dynamicLoop(),setInterval(function(){console.log("Auto-saving game..."),autoSave()},12e4),initializeAchievements(),updateUI(),scheduleNextBonusEvent();