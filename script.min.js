const log={log:message=>{}};let money=0;let clickPower=.01;let last_known_click_time=0;let buyCount=0;let fastClickerCount=0;let printerCount=0;let grannyCount=0;let farmCount=0;let cps=0;let cps_display=0;let clickerupgradeCost=.1;let fastClickerUpgradeCost=1;let printerUpgradeCost=15;let grannyUpgradeCost=100;let farmUpgradeCost=300;const moneyDisplay=document.getElementById("money-display");const clickBtn=document.getElementById("click-btn");const cpsUpgradeCostSpan=document.getElementById("cps-upgrade-cost");const upgradeQuantitySpan=document.getElementById("cps-upgrade-quantity");const fastQuantitySpan=document.getElementById("fast-upgrade-quantity");const printerQuantitySpan=document.getElementById("printer-upgrade-quantity");const grannyQuantitySpan=document.getElementById("granny-upgrade-quantity");const farmQuantitySpan=document.getElementById("farm-upgrade-quantity");const revealUpgradeBtn=document.getElementById("reveal-upgrade-btn");const cpsUpgradeBtn=document.getElementById("cps-upgrade");const fastClickerUpgradeBtn=document.getElementById("fast-clicker-upgrade");const fastClickerUpgradeCostSpan=document.getElementById("fast-clicker-upgrade-cost");const printerUpgradeCostSpan=document.getElementById("printer-upgrade-cost");const cpsDisplay=document.getElementById("cps-display");const grannyUpgradeBtn=document.getElementById("granny-upgrade");const grannyUpgradeCostSpan=document.getElementById("granny-upgrade-cost");const farmUpgradeBtn=document.getElementById("farm-upgrade");const farmUpgradeCostSpan=document.getElementById("farm-upgrade-cost");const saveBtn=document.getElementById("save-btn");const loadSaveBtn=document.getElementById("load-save-btn");const alertBox=document.getElementById("alert");const autosaveAlertBox=document.getElementById("autosave-alert");const clickSound=new Audio("sounds/$$.mp3");const printerUpgradeBtn=document.getElementById("printer-upgrade");const coinDiv=document.getElementById("coin-container");function revealNextUpgrade(){}const upgrades=[{element:cpsUpgradeBtn,revealCondition:()=>money>=.1,revleaved:false},{element:fastClickerUpgradeBtn,revealCondition:()=>money>=1,revleaved:false},{element:printerUpgradeBtn,revealCondition:()=>money>=15,revleaved:false},{element:grannyUpgradeBtn,revealCondition:()=>money>=100,revleaved:false}];function checkAndRevealUpgrades(){let nextUpgradeFound=false;for(const upgrade of upgrades){if(upgrade.revealed)continue;if(upgrade.revealCondition()){upgrade.element.classList.remove("hidden","locked");upgrade.revealed=true}}for(const upgrade of upgrades){if(!upgrade.revealed){if(!nextUpgradeFound){upgrade.element.classList.remove("hidden");upgrade.element.classList.add("locked");nextUpgradeFound=true}else{upgrade.element.classList.add("hidden");upgrade.element.classList.remove("locked")}}}}function rain(){for(let i=0;i<30;i++){setTimeout(()=>{const coin=document.createElement("div");coin.className="coin";coin.style.left=Math.random()*100+"vw";coin.style.animationDuration=Math.random()*1+1+"s";document.getElementById("coin-container").appendChild(coin);setTimeout(()=>coin.remove(),2e3)},i*50)}}function displayLoadSaveMessage(){alertBox.classList.remove("hidden");setTimeout(()=>{alertBox.classList.add("hidden")},3e3)}function displayMessage(){alert("Game Successfully Saved!")}function playClickSound(){clickSound.currentTime=0;clickSound.play()}function autoSave(){const autoSave={money:money,clickPower:clickPower,cps:cps,cps_display:cps_display,clickerupgradeCost:clickerupgradeCost,fastClickerUpgradeCost:fastClickerUpgradeCost};localStorage.setItem("moneyClickerSave",JSON.stringify(autoSave));sessionStorage.setItem("moneyClickerSave",JSON.stringify(autoSave));autosaveAlertBox.classList.remove("hidden");setTimeout(()=>{autosaveAlertBox.classList.add("hidden")},3e3)}function loadGame(){const savedData=sessionStorage.getItem("moneyClickerSave")||localStorage.getItem("moneyClickerSave");if(savedData){const gameSaveData=JSON.parse(savedData);money=gameSaveData.money;clickPower=gameSaveData.clickPower;cps=gameSaveData.cps;cps_display=gameSaveData.cps_display;clickerupgradeCost=gameSaveData.clickerupgradeCost;fastClickerUpgradeCost=gameSaveData.fastClickerUpgradeCost;updateUI();log.log("Game Loaded: $"+money.toFixed(2));displayLoadSaveMessage()}else{log.log("No save data found.")}}function saveGame(){const gameSaveData={money:money,clickPower:clickPower,cps:cps,cps_display:cps_display,clickerupgradeCost:clickerupgradeCost,fastClickerUpgradeCost:fastClickerUpgradeCost};localStorage.setItem("moneyClickerSave",JSON.stringify(gameSaveData));sessionStorage.setItem("moneyClickerSave",JSON.stringify(gameSaveData));log.log("Game Saved: $"+money.toFixed(2))}saveBtn.addEventListener("click",()=>{saveGame();displayMessage()});loadSaveBtn.addEventListener("click",loadGame);clickBtn.addEventListener("click",e=>{money+=clickPower;moneyDisplay.innerText=money.toLocaleString();playClickSound();rain();createFloatingText(e.clientX,e.clientY,`+$${clickPower.toFixed(2)}`)});function createFloatingText(x,y,text){const el=document.createElement("div");el.className="floating-text";el.innerText=text;el.style.left=`${x}px`;el.style.top=`${y}px`;document.body.appendChild(el);setTimeout(()=>{el.remove()},1e3)}clickBtn.addEventListener("click",()=>{last_known_click_time=Date.now();const moneyBag=document.querySelector("#dollar");moneyBag.classList.remove("pop");void moneyBag.offsetWidth;moneyBag.classList.add("pop")});cpsUpgradeBtn.addEventListener("click",()=>{if(money>=clickerupgradeCost){money-=clickerupgradeCost;cps+=1;buyCount+=1;clickPower+=.01;moneyDisplay.innerText=money.toLocaleString();clickerupgradeCost*=1.15;cpsDisplay.textContent=cps_display+=1;upgradeQuantitySpan.textContent="x"+buyCount;updateUI()}});fastClickerUpgradeBtn.addEventListener("click",()=>{if(money>=fastClickerUpgradeCost){money-=fastClickerUpgradeCost;cps+=3;fastClickerCount+=1;clickPower+=.03;moneyDisplay.innerText=money.toLocaleString();fastClickerUpgradeCost*=1.3;cpsDisplay.textContent=cps_display+=3;fastQuantitySpan.textContent="x"+fastClickerCount;updateUI()}});printerUpgradeBtn.addEventListener("click",()=>{if(money>=printerUpgradeCost){money-=printerUpgradeCost;cps+=10;printerCount+=1;moneyDisplay.innerText=money.toLocaleString();printerUpgradeCost*=1.3;cpsDisplay.textContent=cps_display+=10;printerQuantitySpan.textContent="x"+printerCount;updateUI()}});grannyUpgradeBtn.addEventListener("click",()=>{if(money>=grannyUpgradeCost){money-=grannyUpgradeCost;cps+=50;grannyCount+=1;moneyDisplay.innerText=money.toLocaleString();grannyUpgradeCost*=1.3;cpsDisplay.textContent=cps_display+=50;grannyQuantitySpan.textContent="x"+grannyCount;updateUI()}});farmUpgradeBtn.addEventListener("click",()=>{if(money>=farmUpgradeCost){money-=farmUpgradeCost;cps+=100;farmCount+=1;moneyDisplay.innerText=money.toLocaleString();farmUpgradeCost*=1.3;cpsDisplay.textContent=cps_display+=100;farmQuantitySpan.textContent="x"+farmCount;updateUI()}});function gameRun(){money+=Date.now()}setInterval(()=>{updateUI()},1e3);setInterval(function(){autoSave()},6e4);function updateUI(){checkAndRevealUpgrades();const now=Date.now();const deltaTime=(now-last_known_click_time)/1e3;last_known_click_time=now;const new_cps=cps/100;const moneyEarned=new_cps*deltaTime;money+=moneyEarned;cpsDisplay.textContent=cps_display.toFixed(2);moneyDisplay.textContent=money.toFixed(2);cpsUpgradeCostSpan.textContent=clickerupgradeCost.toFixed(2);fastClickerUpgradeCostSpan.textContent=fastClickerUpgradeCost.toFixed(2);printerUpgradeCostSpan.textContent=printerUpgradeCost.toFixed(2);grannyUpgradeCostSpan.textContent=grannyUpgradeCost.toFixed(2);farmUpgradeCostSpan.textContent=farmUpgradeCost.toFixed(2);const manageUpgradeBtn=(btn,cost,baseCost)=>{if(money>=cost||cost>baseCost||btn.style.display==="flex"){btn.style.display="flex"}if(money<cost){btn.classList.add("disabled");btn.disabled=true}else{btn.classList.remove("disabled");btn.disabled=false}};manageUpgradeBtn(cpsUpgradeBtn,clickerupgradeCost,.1);manageUpgradeBtn(fastClickerUpgradeBtn,fastClickerUpgradeCost,1);manageUpgradeBtn(printerUpgradeBtn,printerUpgradeCost,15);manageUpgradeBtn(grannyUpgradeBtn,grannyUpgradeCost,100);manageUpgradeBtn(farmUpgradeBtn,farmUpgradeCost,300)}